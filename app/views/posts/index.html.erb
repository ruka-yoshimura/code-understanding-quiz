<% if user_signed_in? %>
<h1>投稿コード一覧</h1>
<%= link_to "新規投稿", new_post_path, class: "button" %>

<div class="posts">
  <% @posts.each do |post| %>
  <div class="post">
    <h2><%= link_to post.title, post %></h2>
    <p>投稿者: <%= post.user.email %> | レベル: <%= post.user.level %></p>
    <p><%= truncate(post.content, length: 100) %></p>
  </div>
  <hr>
  <% end %>
</div>
<% else %>
<div class="hero-section">
  <div class="hero-content">
    <h1>Code Understanding Quiz</h1>
    <p class="hero-description">
      AIがあなたのコードからクイズを生成。<br>
      コードを深く理解し、レベルアップを目指しましょう !
    </p>
    <div class="hero-actions">
      <%= link_to "新規登録", new_user_registration_path, class: "button primary" %>
      <%= link_to "ログイン", new_user_session_path, class: "button secondary" %>
      <%= link_to "ゲストログイン", users_guest_sign_in_path, data: { "turbo-method": :post }, class: "button guest" %>
    </div>
  </div>
</div>
<% end %>